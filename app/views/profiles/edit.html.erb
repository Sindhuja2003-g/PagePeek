<div class="container mt-5">
  <div class="card shadow border-primary">
    <div class="card-header bg-primary text-white">
      <h3 class="mb-0"><i class="bi bi-person-lines-fill me-2"></i> Edit Your Profile</h3>
    </div>
    <div class="card-body">
      <%= form_with model: @profile, url: profile_path, method: :patch, local: true do |f| %>
 

        <div class="mb-3">
          <%= f.label :bio, class: "form-label" %>
          <%= f.text_area :bio, class: "form-control", rows: 4 %>
        </div>

        <div class="mb-3">
          <%= f.label :location, class: "form-label" %>
          <%= f.text_field :location, class: "form-control" %>
        </div>

        <div class="mb-3">
          <%= f.label :goodreads_url, "Goodreads Profile URL", class: "form-label" %>
          <%= f.url_field :goodreads_url, class: "form-control" %>
        </div>

        <%= f.submit "Update Profile", class: "btn btn-success" %>
      <% end %>
    </div>
  </div>

  <div class="text-center mt-4">
    <%= button_to "Delete My Account", profile_path, method: :delete, data: { confirm: "Are you sure you want to permanently delete your account?" }, class: "btn btn-outline-danger" %>
  </div>

  <hr class="my-5">
<% if !moderator? %>
<h4 class="text-success"><i class="bi bi-heart-fill me-1"></i> Your Liked Books</h4>

<% if @liked_books.any?%>
  <ul class="list-group">
    <% @liked_books.each do |book| %>
      <li class="list-group-item d-flex justify-content-between align-items-center">
        <%= link_to book.title, book_path(book), class: "text-decoration-none" %>
        <span class="badge bg-secondary"><%= book.author %></span>
      </li>
    <% end %>
  </ul>
<% else %>
  <p class="text-muted">You haven't liked any books yet.</p>
<% end %>
<% end %>
</div>
